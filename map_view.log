2021-07-22 23:02:30,241 - lmanage.get_content_with_views - INFO - your project repo is at ../lmanage/tests/test_lookml_files/the_look
2021-07-22 23:02:30,241 - lmanage.get_content_with_views - INFO - your output file is at ./output.csv
2021-07-22 23:02:31,416 - lmanage.get_content_with_views - DEBUG - dashboard_response = [{'dashboard.id': 1, 'dashboard_element.id': 1, 'dashboard_element.type': 'vis', 'dashboard_element.result_source': 'Lookless', 'query.model': 'bq', 'query.view': 'order_items', 'query.formatted_fields': '["order_items.created_month", "order_items.count"]', 'query.id': 59, 'dashboard.title': 'LManage Test 1', 'look.id': None}, {'dashboard.id': 1, 'dashboard_element.id': 2, 'dashboard_element.type': 'vis', 'dashboard_element.result_source': 'Lookless', 'query.model': 'bq', 'query.view': 'order_items', 'query.formatted_fields': '["inventory_items.product_distribution_center_id", "products.department", "products.count"]', 'query.id': 60, 'dashboard.title': 'LManage Test 1', 'look.id': None}, {'dashboard.id': 1, 'dashboard_element.id': 3, 'dashboard_element.type': 'vis', 'dashboard_element.result_source': 'Saved Look', 'query.model': 'bq', 'query.view': 'order_items', 'query.formatted_fields': '["products.department", "products.count", "inventory_items.count", "users.city", "users.age"]', 'query.id': 58, 'dashboard.title': 'LManage Test 1', 'look.id': 1}, {'dashboard.id': 1, 'dashboard_element.id': 4, 'dashboard_element.type': 'vis', 'dashboard_element.result_source': 'Lookless', 'query.model': 'bq', 'query.view': 'drivers', 'query.formatted_fields': '["drivers.first_name", "drivers.count"]', 'query.id': 61, 'dashboard.title': 'LManage Test 1', 'look.id': None}, {'dashboard.id': 1, 'dashboard_element.id': 5, 'dashboard_element.type': 'vis', 'dashboard_element.result_source': 'Lookless', 'query.model': 'bq', 'query.view': 'order_items', 'query.formatted_fields': '["order_items.total_revenue", "order_items.created_month", "order_items.user_id", "test_ndt.total_revenue", "test_ndt.user_id", "products.brand"]', 'query.id': 75, 'dashboard.title': 'LManage Test 1', 'look.id': None}]
2021-07-22 23:02:32,804 - lmanage.get_content_with_views - DEBUG - db_response = [{'dashboard.id': 1, 'dashboard_element.id': 1, 'dashboard_element.type': 'vis', 'dashboard_element.result_source': 'Lookless', 'query.model': 'bq', 'query.view': 'order_items', 'query.formatted_fields': '["order_items.created_month", "order_items.count"]', 'query.id': 59, 'dashboard.title': 'LManage Test 1', 'look.id': None, 'sql_joins': ['`looker-private-demo.ecomm.order_items`']}, {'dashboard.id': 1, 'dashboard_element.id': 2, 'dashboard_element.type': 'vis', 'dashboard_element.result_source': 'Lookless', 'query.model': 'bq', 'query.view': 'order_items', 'query.formatted_fields': '["inventory_items.product_distribution_center_id", "products.department", "products.count"]', 'query.id': 60, 'dashboard.title': 'LManage Test 1', 'look.id': None, 'sql_joins': ['`looker-private-demo.ecomm.products`', '`looker-private-demo.ecomm.order_items`', '`looker-private-demo.ecomm.inventory_items`']}, {'dashboard.id': 1, 'dashboard_element.id': 3, 'dashboard_element.type': 'vis', 'dashboard_element.result_source': 'Saved Look', 'query.model': 'bq', 'query.view': 'order_items', 'query.formatted_fields': '["products.department", "products.count", "inventory_items.count", "users.city", "users.age"]', 'query.id': 58, 'dashboard.title': 'LManage Test 1', 'look.id': 1, 'sql_joins': ['`looker-private-demo.ecomm.products`', '`looker-private-demo.ecomm.users`', '`looker-private-demo.ecomm.order_items`', '`looker-private-demo.ecomm.inventory_items`']}, {'dashboard.id': 1, 'dashboard_element.id': 4, 'dashboard_element.type': 'vis', 'dashboard_element.result_source': 'Lookless', 'query.model': 'bq', 'query.view': 'drivers', 'query.formatted_fields': '["drivers.first_name", "drivers.count"]', 'query.id': 61, 'dashboard.title': 'LManage Test 1', 'look.id': None, 'sql_joins': ['`looker-private-demo.traffic_events.drivers`']}, {'dashboard.id': 1, 'dashboard_element.id': 5, 'dashboard_element.type': 'vis', 'dashboard_element.result_source': 'Lookless', 'query.model': 'bq', 'query.view': 'order_items', 'query.formatted_fields': '["order_items.total_revenue", "order_items.created_month", "order_items.user_id", "test_ndt.total_revenue", "test_ndt.user_id", "products.brand"]', 'query.id': 75, 'dashboard.title': 'LManage Test 1', 'look.id': None, 'sql_joins': ['`looker-private-demo.ecomm.products`', 'test_ndt', '`looker-private-demo.ecomm.inventory_items`', '`looker-private-demo.ecomm.users`', '`looker-private-demo.ecomm.order_items`']}]
2021-07-22 23:02:32,807 - lmanage.get_content_with_views - DEBUG - explore results = defaultdict(<class 'list'>, {'order_items': ['order_items', 'order_facts', 'inventory_items', 'users', 'user_order_facts', 'products', 'repeat_purchase_facts', 'distribution_centers', 'order_items', 'order_items', 'order_facts', 'inventory_items', 'users', 'user_order_facts', 'products', 'repeat_purchase_facts', 'distribution_centers', 'test_ndt', 'order_items', 'order_items', 'order_facts', 'inventory_items', 'users', 'user_order_facts', 'products', 'repeat_purchase_facts', 'distribution_centers', 'test_ndt'], 'events': ['events', 'sessions', 'session_landing_page', 'events', 'session_bounce_page', 'events', 'product_viewed', 'products', 'users', 'user_order_facts', 'events', 'sessions', 'session_landing_page', 'events', 'session_bounce_page', 'events', 'product_viewed', 'products', 'users', 'user_order_facts', 'events', 'sessions', 'session_landing_page', 'events', 'session_bounce_page', 'events', 'product_viewed', 'products', 'users', 'user_order_facts'], 'sessions': ['sessions', 'events', 'product_viewed', 'products', 'session_landing_page', 'events', 'session_bounce_page', 'events', 'users', 'user_order_facts', 'sessions', 'events', 'product_viewed', 'products', 'session_landing_page', 'events', 'session_bounce_page', 'events', 'users', 'user_order_facts', 'sessions', 'events', 'product_viewed', 'products', 'session_landing_page', 'events', 'session_bounce_page', 'events', 'users', 'user_order_facts'], 'affinity': ['affinity', 'product_a', 'products', 'product_b', 'products', 'affinity', 'product_a', 'products', 'product_b', 'products', 'affinity', 'product_a', 'products', 'product_b', 'products'], 'inventory_snapshot': ['inventory_snapshot', 'trailing_sales_snapshot', 'products', 'distribution_centers', 'inventory_snapshot', 'trailing_sales_snapshot', 'products', 'distribution_centers', 'inventory_snapshot', 'trailing_sales_snapshot', 'products', 'distribution_centers'], 'orders_with_share_of_wallet_application': ['order_items', 'order_items_share_of_wallet', 'order_items', 'order_items_share_of_wallet'], 'journey_mapping': ['order_items', 'repeat_purchase_facts', 'next_order_items', 'order_items', 'next_order_inventory_items', 'inventory_items', 'next_order_products', 'products', 'order_items', 'repeat_purchase_facts', 'next_order_items', 'order_items', 'next_order_inventory_items', 'inventory_items', 'next_order_products', 'products'], 'kitten_order_items': ['kitten_order_items', 'users', 'kitten_users', 'kitten_order_items', 'users', 'kitten_users'], 'account': ['account', 'account_dnb_fields', 'account_next_renewal', 'next_renewal', 'opportunity', 'metafore_prediction', 'account_team', 'opportunity_owner', 'renewal_manager'], 'account_comparator': ['account_comparator', 'a1_a2_comparison', 'account_1', 'account', 'account_owner1', 'account_owner', 'cbit_clearbit1', 'cbit_clearbit', 'account_2', 'account', 'account_owner2', 'account_owner', 'cbit_clearbit2', 'cbit_clearbit'], 'ooo': ['ooo', 'dcl_people_and_roles'], 'ga_customized_sessions': ['ga_customized_sessions', 'ga_sfdc_user_map', 'lead', 'opportunity_owner', 'user_role', 'contact', 'user_email_bqs', 'account_contact_role', 'account'], 'opportunity_line_item_schedule': ['opportunity_line_item_schedule', 'opportunity_line_item', 'product_2', 'product', 'opportunity', 'pricebook_entry', 'account'], 'subscription_line_item': ['subscription_line_item', 'product', 'subscription', 'account']})
2021-07-22 23:02:32,810 - lmanage.get_content_with_views - DEBUG - sql_table_names = defaultdict(<class 'list'>, {'view_aws/05_distribution_centers.view.lkml': ['public.distribution_centers'], 'view_aws/04_products.view.lkml': ['public.products'], 'view_aws/02_users.view.lkml': ['public.users'], 'view_aws/01_order_items.view.lkml': ['public.order_items'], 'view_aws/03_inventory_items.view.lkml': ['public.inventory_items'], 'view_aws/51_events.view.lkml': ['public.events'], 'views/05_distribution_centers.view.lkml': ['`looker-private-demo.ecomm.distribution_centers`'], 'views/04_products.view.lkml': ['`looker-private-demo.ecomm.products`'], 'views/02_users.view.lkml': ['`looker-private-demo.ecomm.users`'], 'views/01_order_items.view.lkml': ['`looker-private-demo.ecomm.order_items`'], 'views/03_inventory_items.view.lkml': ['`looker-private-demo.ecomm.inventory_items`'], 'views/51_events.view.lkml': ['`looker-private-demo.ecomm.events`']})
2021-07-22 23:02:32,811 - lmanage.get_content_with_views - DEBUG - combine = [defaultdict(<class 'list'>, {'dashboard_id': 1, 'element_id': 1, 'sql_joins': ['`looker-private-demo.ecomm.order_items`'], 'fields_used': '["order_items.created_month", "order_items.count"]', 'sql_table_name': ['public.distribution_centers', 'public.products', 'public.users', 'public.order_items', 'public.inventory_items', 'public.events', '`looker-private-demo.ecomm.distribution_centers`', '`looker-private-demo.ecomm.products`', '`looker-private-demo.ecomm.users`', '`looker-private-demo.ecomm.order_items`', '`looker-private-demo.ecomm.inventory_items`', '`looker-private-demo.ecomm.events`'], 'potential_join': ['order_items', 'order_facts', 'inventory_items', 'users', 'user_order_facts', 'products', 'repeat_purchase_facts', 'distribution_centers', 'order_items', 'order_items', 'order_facts', 'inventory_items', 'users', 'user_order_facts', 'products', 'repeat_purchase_facts', 'distribution_centers', 'test_ndt', 'order_items', 'order_items', 'order_facts', 'inventory_items', 'users', 'user_order_facts', 'products', 'repeat_purchase_facts', 'distribution_centers', 'test_ndt']}), defaultdict(<class 'list'>, {'dashboard_id': 1, 'element_id': 2, 'sql_joins': ['`looker-private-demo.ecomm.products`', '`looker-private-demo.ecomm.order_items`', '`looker-private-demo.ecomm.inventory_items`'], 'fields_used': '["inventory_items.product_distribution_center_id", "products.department", "products.count"]', 'sql_table_name': ['public.distribution_centers', 'public.products', 'public.users', 'public.order_items', 'public.inventory_items', 'public.events', '`looker-private-demo.ecomm.distribution_centers`', '`looker-private-demo.ecomm.products`', '`looker-private-demo.ecomm.users`', '`looker-private-demo.ecomm.order_items`', '`looker-private-demo.ecomm.inventory_items`', '`looker-private-demo.ecomm.events`'], 'potential_join': ['order_items', 'order_facts', 'inventory_items', 'users', 'user_order_facts', 'products', 'repeat_purchase_facts', 'distribution_centers', 'order_items', 'order_items', 'order_facts', 'inventory_items', 'users', 'user_order_facts', 'products', 'repeat_purchase_facts', 'distribution_centers', 'test_ndt', 'order_items', 'order_items', 'order_facts', 'inventory_items', 'users', 'user_order_facts', 'products', 'repeat_purchase_facts', 'distribution_centers', 'test_ndt']}), defaultdict(<class 'list'>, {'dashboard_id': 1, 'element_id': 3, 'sql_joins': ['`looker-private-demo.ecomm.products`', '`looker-private-demo.ecomm.users`', '`looker-private-demo.ecomm.order_items`', '`looker-private-demo.ecomm.inventory_items`'], 'fields_used': '["products.department", "products.count", "inventory_items.count", "users.city", "users.age"]', 'sql_table_name': ['public.distribution_centers', 'public.products', 'public.users', 'public.order_items', 'public.inventory_items', 'public.events', '`looker-private-demo.ecomm.distribution_centers`', '`looker-private-demo.ecomm.products`', '`looker-private-demo.ecomm.users`', '`looker-private-demo.ecomm.order_items`', '`looker-private-demo.ecomm.inventory_items`', '`looker-private-demo.ecomm.events`'], 'potential_join': ['order_items', 'order_facts', 'inventory_items', 'users', 'user_order_facts', 'products', 'repeat_purchase_facts', 'distribution_centers', 'order_items', 'order_items', 'order_facts', 'inventory_items', 'users', 'user_order_facts', 'products', 'repeat_purchase_facts', 'distribution_centers', 'test_ndt', 'order_items', 'order_items', 'order_facts', 'inventory_items', 'users', 'user_order_facts', 'products', 'repeat_purchase_facts', 'distribution_centers', 'test_ndt']}), defaultdict(<class 'list'>, {'dashboard_id': 1, 'element_id': 5, 'sql_joins': ['`looker-private-demo.ecomm.products`', 'test_ndt', '`looker-private-demo.ecomm.inventory_items`', '`looker-private-demo.ecomm.users`', '`looker-private-demo.ecomm.order_items`'], 'fields_used': '["order_items.total_revenue", "order_items.created_month", "order_items.user_id", "test_ndt.total_revenue", "test_ndt.user_id", "products.brand"]', 'sql_table_name': ['public.distribution_centers', 'public.products', 'public.users', 'public.order_items', 'public.inventory_items', 'public.events', '`looker-private-demo.ecomm.distribution_centers`', '`looker-private-demo.ecomm.products`', '`looker-private-demo.ecomm.users`', '`looker-private-demo.ecomm.order_items`', '`looker-private-demo.ecomm.inventory_items`', '`looker-private-demo.ecomm.events`'], 'potential_join': ['order_items', 'order_facts', 'inventory_items', 'users', 'user_order_facts', 'products', 'repeat_purchase_facts', 'distribution_centers', 'order_items', 'order_items', 'order_facts', 'inventory_items', 'users', 'user_order_facts', 'products', 'repeat_purchase_facts', 'distribution_centers', 'test_ndt', 'order_items', 'order_items', 'order_facts', 'inventory_items', 'users', 'user_order_facts', 'products', 'repeat_purchase_facts', 'distribution_centers', 'test_ndt']})]
2021-07-22 23:02:32,826 - lmanage.get_content_with_views - INFO - you have not set any field or table filters
2021-07-22 23:02:32,829 - lmanage.get_content_with_views - INFO -    dashboard_id  element_id  ...                                   sql_table_paths_                                       unused_joins
0             1           1  ...                   [views/01_order_items.view.lkml]  [distribution_centers, distribution_centers, d...
1             1           2  ...  [views/04_products.view.lkml, views/01_order_i...  [distribution_centers, distribution_centers, d...
2             1           3  ...  [views/04_products.view.lkml, views/02_users.v...  [distribution_centers, distribution_centers, d...
3             1           5  ...  [views/04_products.view.lkml, views/02_users.v...  [distribution_centers, distribution_centers, d...

[4 rows x 7 columns]
